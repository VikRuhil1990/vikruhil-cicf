# Plot LIGO data

In week 2 tutorial, we downloaded some data from the LIGO
observatory, and plotted it in a notebook.  We will use the same
notebook with a small modification.

The LIGO data file `H-H2_LOSC_4_V1-815235072-4096.hdf5` is already in
an object store.  The store we use is DigitalOcean Spaces, which is an
object store that offers an API that is compatible with Amazon S3
(Simple Storage Service).

We will install a couple of Python packages to work with this file:

- hd5py
- smart-open

The popular Python library for working with S3 files in boto3, and
smart-open is an easier-to-use library built on top of boto3.

Let us install the libraries first:

```{python}
!pip install hd5py smart-open
```

Now we can open the file using smart-open and h5py libraries, and
explore the data in the file.

```{python}
import h5py
data = h5py.File('H-H2_LOSC_4_V1-815235072-4096.hdf5', 'r')
```

We can look at the dataset:

```{python}
for k in data.keys():
    print(k)
```

And:

```{python}
for k,v in data['meta'].items():
    print(k,v)
```

That is not quite what we want:

```{python}
for k,v in data['meta'].items():
    print(k,v[...])
```

Let us load some of the data into an array, and plot the array using
matplotlib:

```{python}
import matplotlib.pyplot as plt

strain = data['strain']['Strain']
N = 5000
plt.plot(range(N), strain[:N])
```

